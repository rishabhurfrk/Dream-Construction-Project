<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DREAM Construction</title>
    <link rel="stylesheet" href="css/styles.css" />
    <!-- Favicon -->
    <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
    <!-- Preload critical assets -->
    <link rel="preload" href="images/logo.png" as="image">
    <link rel="preload" href="css/styles.css" as="style">
    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <style>
      /* Additional styles to simulate logged-in state */
      .logged-in .auth-links 
      {
        display: none;
      }
      .logged-in .logout-link {
        display: block;
      }
      .logged-out .logout-link {
        display: none;
      }
      /* Add loading animation */
      .loading {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: white;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      .loading.hide {
        display: none;
      }

      .loading::after {
        content: '';
        width: 50px;
        height: 50px;
        border: 5px solid #f3f3f3;
        border-top: 5px solid #10b981;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      .footer {
        background: #1f2937;
        color: white;
        padding: 50px 0 20px;
        margin-top: auto;
      }

      .footer-content {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 30px;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .footer-section h3 {
        color: #10b981;
        margin-bottom: 20px;
        font-size: 1.2rem;
      }

      .footer-section p {
        margin: 10px 0;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .footer-section ul {
        list-style: none;
        padding: 0;
      }

      .footer-section ul li {
        margin: 10px 0;
      }

      .footer-section ul li a {
        color: white;
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .footer-section ul li a:hover {
        color: #10b981;
      }

      .social-links {
        display: flex;
        gap: 15px;
      }

      .social-links a {
        color: white;
        font-size: 1.5rem;
        transition: color 0.3s ease;
      }

      .social-links a:hover {
        color: #10b981;
      }

      .footer-bottom {
        text-align: center;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      @media (max-width: 768px) {
        .footer-content {
          grid-template-columns: 1fr;
          text-align: center;
        }

        .footer-section p {
          justify-content: center;
        }

        .social-links {
          justify-content: center;
        }
      }

      .cta-buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin-top: 30px;
      }

      .cta-button {
        display: inline-block;
        padding: 12px 30px;
        background: #10b981;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .cta-button:hover {
        background: #059669;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
      }
    </style>
    <!-- Add these in the head section -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  </head>
  <body>
    <!-- Add loading indicator -->
    <div id="loading" class="loading"></div>
    
    <header>
      <div class="container">
        <div class="header-logo">
          <img 
            src="images/logo.png" 
            alt="Construction Co. Logo" 
            class="logo-img"
            width="120" 
            height="40"
          >
        </div>
        <nav class="header-nav">
          <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#services">Services</a></li>
            <li><a href="#projects">Projects</a></li>
            <li><a href="#testimonials">Testimonials</a></li>
            <li><a href="#contact">Contact</a></li>
            <li class="auth-links"><a href="login.html">Login</a></li>
            <li class="auth-links"><a href="signup.html">Sign Up</a></li>
            <li class="logout-link"><a href="#" onclick="logout()">Logout</a></li>
            <li>
              <a href="admin/admin-login.html" class="admin-link" onclick="handleAdminClick(event)">
                  <i class="fas fa-user-shield"></i> Admin
              </a>
          </li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
      <div class="container">
        <h2>Building the Future with Excellence</h2>
        <p>Your trusted partner in construction and renovation.</p>
        <div class="cta-buttons">
          <a href="getplans.html" class="cta-button" id="getPlanButton">Get Plan</a>
          <a href="calculate-cost.html" class="cta-button" id="calculateCostButton">Calculate Cost</a>
        </div>
        <a href="#" onclick="handlePlanClick('architect-upload.html')" class="cta-button secondary">Upload Plan</a>
      </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="services">
      <div class="container">
        <h2>Our Services</h2>
        <div class="service-list">
          <div class="service-item">
            <img 
              src="images/residential.jpg" 
              alt="Residential Construction" 
              class="lazy-image"
              loading="lazy"
              width="400"
              height="300"
            />
            <h3>Residential Construction</h3>
            <p>High-quality homes built to last.</p>
          </div>
          <div class="service-item">
            <img src="images/commercial.jpg" alt="Commercial Projects" />
            <h3>Commercial Projects</h3>
            <p>Innovative and efficient commercial buildings.</p>
          </div>
          <div class="service-item">
            <img src="images/renovation.jpg" alt="Renovations" />
            <h3>Renovations</h3>
            <p>Transforming spaces to meet your needs.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Portfolio Section -->
    <section id="projects" class="portfolio">
      <div class="container">
        <h2>Our Projects</h2>
        <div class="project-list">
          <div class="project-item">
            <img src="images/luxury-villa.jpg" alt="Project 1" />
            <h3>Luxury Villa</h3>
          </div>
          <div class="project-item">
            <img src="images/corporate.jpg" alt="Project 2" />
            <h3>Corporate Office</h3>
          </div>
          <div class="project-item">
            <img src="images/apartment.jpg" alt="Project 3" />
            <h3>Urban Apartments</h3>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="testimonials">
      <div class="container">
        <h2>What Our Clients Say</h2>
        <div class="testimonial-list">
          <div class="testimonial-item">
            <p>"The team did an outstanding job on our new office building."</p>
            <h4>- John Doe, CEO of ABC Corp</h4>
          </div>
          <div class="testimonial-item">
            <p>"Our home renovation was completed on time and exceeded expectations."</p>
            <h4>- Jane Smith, Homeowner</h4>
          </div>
          <div class="testimonial-item">
            <p>"Professional, reliable, and high-quality construction work."</p>
            <h4>- Mark Johnson, Real Estate Developer</h4>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact">
      <div class="container">
        <h2>Contact Us</h2>
        <form id="contactForm">
          <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required />
          </div>
          <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required />
          </div>
          <div class="form-group">
            <label for="message">Message:</label>
            <textarea id="message" name="message" rows="4" required></textarea>
          </div>
          <button type="submit" class="cta-button">Send Message</button>
        </form>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>Contact Us</h3>
            <p><i class="fas fa-phone"></i> +1234567890</p>
            <p><i class="fas fa-envelope"></i> info@dreamconstruction.com</p>
            <p><i class="fas fa-map-marker-alt"></i> 123 Construction Street, City, Country</p>
          </div>
          <div class="footer-section">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="index.html#home">Home</a></li>
              <li><a href="index.html#about">About</a></li>
              <li><a href="index.html#services">Services</a></li>
              <li><a href="index.html#projects">Projects</a></li>
              <li><a href="index.html#contact">Contact</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>Follow Us</h3>
            <div class="social-links">
              <a href="#"><i class="fab fa-facebook"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-linkedin"></i></a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2024 DREAM Construction. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script src="js/scripts.js"></script>
    <script>
      // Image optimization
      document.addEventListener('DOMContentLoaded', function() {
        // Handle lazy loading images
        const lazyImages = document.querySelectorAll('img[loading="lazy"]');
        
        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const img = entry.target;
              img.classList.add('loaded');
              observer.unobserve(img);
            }
          });
        });

        lazyImages.forEach(img => imageObserver.observe(img));

        // Preload hero background image
        const heroImage = new Image();
        heroImage.src = 'images/contact-bg.jpg';
      });

      // Handle login status
      function simulateLoginStatus() {
        const isLoggedIn = localStorage.getItem('loggedIn') === 'true';
        document.body.classList.add(isLoggedIn ? 'logged-in' : 'logged-out');
      }

      function logout() {
        localStorage.removeItem('loggedIn');
        window.location.href = 'index.html';
      }

      // Initialize
      simulateLoginStatus();

      // Hide loading indicator when page is loaded
      window.addEventListener('load', function() {
        document.getElementById('loading').classList.add('hide');
      });

      // Navbar scroll effect
      window.addEventListener('scroll', function() {
        const header = document.querySelector('header');
        const scrollPosition = window.scrollY;

        if (scrollPosition > 50) {
          header.classList.add('navbar-scrolled');
        } else {
          header.classList.remove('navbar-scrolled');
        }
      });

      // Add active class to current section
      const sections = document.querySelectorAll('section');
      const navLinks = document.querySelectorAll('.header-nav ul li a');

      window.addEventListener('scroll', () => {
        let current = '';
        
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          
          if (window.scrollY >= (sectionTop - 200)) {
            current = section.getAttribute('id');
          }
        });

        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href').slice(1) === current) {
            link.classList.add('active');
          }
        });
      });

      // Smooth scroll for navigation links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });

      // Add this new function to handle plan button clicks
      function handlePlanClick(destination) {
        const isLoggedIn = localStorage.getItem('loggedIn') === 'true';
        if (isLoggedIn) {
          window.location.href = destination;
        } else {
          window.location.href = 'login.html';
        }
      }

      // Ensure the DOM is fully loaded before adding event listeners
      document.addEventListener('DOMContentLoaded', function() {
        // Check if user is logged in
        const isLoggedIn = localStorage.getItem('loggedIn') === 'true';

        // Redirect to login if not logged in
        function redirectToLogin() {
          window.location.href = 'login.html'; // Redirect to the login page
        }

        // "Get Plan" button functionality
        const getPlanButton = document.getElementById('getPlanButton');
        if (getPlanButton) {
          getPlanButton.addEventListener('click', function(e) {
            e.preventDefault(); // Prevent the default navigation
            if (isLoggedIn) {
              window.location.href = 'getplans.html'; // Redirect to get plans page
            } else {
              redirectToLogin(); // Redirect to login page
            }
          });
        } else {
          console.error('Get Plan button not found');
        }

        // "Calculate Cost" button functionality
        const calculateCostButton = document.getElementById('calculateCostButton');
        if (calculateCostButton) {
          calculateCostButton.addEventListener('click', function(e) {
            e.preventDefault(); // Prevent the default navigation
            if (isLoggedIn) {
              window.location.href = 'calculate-cost.html'; // Redirect to calculate cost page
            } else {
              redirectToLogin(); // Redirect to login page
            }
          });
        } else {
          console.error('Calculate Cost button not found');
        }
      });
    </script>
    <!-- Add these before closing body tag -->
    <script src="js/admin-menu.js"></script>
  </body>
</html>
